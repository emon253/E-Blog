<div [ngClass]="{ 'sidenav-open': sidenavStatus }" class="side-nav-content">
  <ul class="nav-list" [ngClass]="{ 'nav-list-open': sidenavStatus }">
    <li class="drowpdown-nav-list" *ngFor="let menu of menuList" #itemEl>
      <a *ngIf="menu.children" class="dropdown-title" (click)="showSubmenu(itemEl)">
        <span class="linkName">{{ menu.label }}</span>
        <i *ngIf="menu.children.length != 0" class="fa fa-caret-down"></i>
      </a>
      <ul class="sub-menu" *ngIf="menu.children">
        <li #itemEl2 *ngFor="let subMenu of menu.children">
          <a *ngIf="subMenu.children" (click)="showSubmenu2(itemEl2)">
            {{ subMenu.label }}
            <i *ngIf="subMenu.children.length != 0" class="fa fa-caret-down"></i>
          </a>
          <!-- SUB MENU 2 -->
          <ul class="sub-menu2" *ngIf="subMenu.children">
            <li *ngFor="let subSubMenu of subMenu.children">
              <a (click)="onClickMenuClose()">{{ subSubMenu.label }}</a>
            </li>
          </ul>
          <!-- SUB MENU 2 -->
        </li>
      </ul>
    </li>
  </ul>
</div>





@Data
public class Menu {
    private int menuId;
    private String label;
    private Integer parentId;
    private String role;
    private List<Menu> children;

    public Menu(int menuId, String label, Integer parentId, String role) {
        this.menuId = menuId;
        this.label = label;
        this.parentId = parentId;
        this.role = role;
        this.children = new ArrayList<>();
    }


    public static List<Menu> buildMenuTree(List<Menu> menuDataList, Integer parentId) {
         
        List<Menu> menuList = new ArrayList<>();
        for (Menu menuData : menuDataList) {
            if (menuData.getParentId() == parentId) {
                Menu menu = new Menu(menuData.getMenuId(), menuData.getLabel(), menuData.getParentId(), menuData.getRole());
                menu.setChildren(buildMenuTree(menuDataList, menuData.getMenuId()));
                menuList.add(menu);
            }
        }
        return menuList;
    }

    public static void main(String[] args) {
        List<Menu> menuDataList = new ArrayList<>();
        menuDataList.add(new Menu(1, "Settings", 0, null));
        menuDataList.add(new Menu(2, "Item", 1, null));
        menuDataList.add(new Menu(3, "Unit", 2, null));
        menuDataList.add(new Menu(4, "Category", 2, null));
        menuDataList.add(new Menu(5, "Purchase", 0, null));
        menuDataList.add(new Menu(6, "Store", 0, null));

        List<Menu> menuList = Menu.buildMenuTree(menuDataList, 0);

    }
}


